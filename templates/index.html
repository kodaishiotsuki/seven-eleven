{%extends 'base.html'%} {%block body%}

<a class="btn btn-info btn-lg m-5" href="/create" role="button">Create New Task</a>
<a class="btn btn-primary btn-lg m-5" href="/fortune-teller">Fortune Teller</a>

<!-- app.pyのpostsをfor文で繰り返し -->
{% for post in posts %}
<div class="card w-50 mb-3" style="margin: auto">
  <div class="card-body">
    {% if post.due.date() < today %} <div class="alert alert-warning" role="alert">
      期限切れです!!
  </div>
  {% endif %}
  <h2 class="card-title">タイトル:{{post.title}}</h2>
  <p>期限:{{post.due.date()}}</p>
  <!-- 期限（due）はdateオブジェクトで取り出す -->
  <a class="btn btn-secondary btn-sm" href="detail/{{post.id}}" role="button">Detail</a>
  <a class="btn btn-success btn-sm" href="update/{{post.id}}" role="button">Update</a>
  <a class="btn btn-warning btn-sm" href="delete/{{post.id}}" role="button">Delete</a>
</div>
</div>

{% endfor %} {%endblock%}